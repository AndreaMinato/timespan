{"version":3,"file":"timespan.modern.js","sources":["../src/index.ts"],"sourcesContent":["const msecPerSecond = 1000;\r\nconst msecPerMinute = 1000 * 60;\r\nconst msecPerHour = 1000 * 60 * 60;\r\nconst msecPerDay = 1000 * 60 * 60 * 24;\r\n\r\n\r\nexport class TimeSpan {\r\n    _milliseconds: number = 0;\r\n\r\n    constructor(milliseconds: number) {\r\n        this._milliseconds = milliseconds\r\n    }\r\n\r\n    static fromSeconds(seconds: number) {\r\n        return new TimeSpan(seconds * msecPerSecond);\r\n    }\r\n    static fromMinutes(minutes: number) {\r\n        return new TimeSpan(minutes * msecPerMinute);\r\n    }\r\n    static fromHours(hours: number) {\r\n        return new TimeSpan(hours * msecPerHour);\r\n    }\r\n    static fromDays(days: number) {\r\n        return new TimeSpan(days * msecPerDay);\r\n    }\r\n\r\n    add(timespan: TimeSpan) {\r\n        return new TimeSpan(this.milliseconds + timespan.milliseconds)\r\n    }\r\n    subtract(timespan: TimeSpan) {\r\n        return new TimeSpan(this.milliseconds - timespan.milliseconds)\r\n    }\r\n    duration() {\r\n        return new TimeSpan(Math.abs(this.milliseconds))\r\n    }\r\n\r\n    addMilliseconds(milliseconds: number) {\r\n        this._milliseconds += milliseconds\r\n    }\r\n    subtractMilliseconds(milliseconds: number) {\r\n        this._milliseconds -= milliseconds\r\n    }\r\n\r\n    addSeconds(seconds: number) {\r\n        this._milliseconds += (seconds * msecPerSecond)\r\n    }\r\n    subtractSeconds(seconds: number) {\r\n        this._milliseconds -= (seconds * msecPerSecond)\r\n    }\r\n\r\n    addMinutes(minutes: number) {\r\n        this._milliseconds += (minutes * msecPerMinute)\r\n    }\r\n    subtractMinutes(minutes: number) {\r\n        this._milliseconds -= (minutes * msecPerMinute)\r\n    }\r\n\r\n    addHours(hours: number) {\r\n        this._milliseconds += (hours * msecPerHour)\r\n    }\r\n    subtractHours(hours: number) {\r\n        this._milliseconds -= (hours * msecPerHour)\r\n    }\r\n\r\n    addDays(days: number) {\r\n        this._milliseconds += (days * msecPerDay)\r\n    }\r\n    subtractDays(days: number) {\r\n        this._milliseconds -= (days * msecPerDay)\r\n    }\r\n\r\n\r\n    get milliseconds() {\r\n        return this._milliseconds;\r\n    }\r\n    get seconds() {\r\n        return this._milliseconds / msecPerSecond;\r\n    }\r\n    get minutes() {\r\n        return this._milliseconds / msecPerMinute;\r\n    }\r\n    get hours() {\r\n        return this._milliseconds / msecPerHour;\r\n    }\r\n    get days() {\r\n        return this._milliseconds / msecPerDay;\r\n    }\r\n\r\n    get totalMilliseconds() {\r\n        return Math.floor(this._milliseconds);\r\n    }\r\n    get totalSeconds() {\r\n        return Math.floor(this._milliseconds / msecPerSecond);\r\n    }\r\n    get totalMinutes() {\r\n        return Math.floor(this._milliseconds / msecPerMinute);\r\n    }\r\n    get totalHours() {\r\n        return Math.floor(this._milliseconds / msecPerHour);\r\n    }\r\n    get totalDays() {\r\n        return Math.floor(this._milliseconds / msecPerDay);\r\n    }\r\n\r\n    equals(compare: TimeSpan) {\r\n        return compare.milliseconds === this._milliseconds;\r\n    }\r\n    lesser(compare: TimeSpan) {\r\n        return this._milliseconds < compare.milliseconds;\r\n    }\r\n    lesserEqual(compare: TimeSpan) {\r\n        return this._milliseconds <= compare.milliseconds;\r\n    }\r\n    greater(compare: TimeSpan) {\r\n        return this._milliseconds > compare.milliseconds;\r\n    }\r\n    greaterEqual(compare: TimeSpan) {\r\n        return this._milliseconds >= compare.milliseconds;\r\n    }\r\n\r\n}\r\n\r\nTimeSpan.prototype.toString = function () {\r\n    const formatter = new Intl.NumberFormat(undefined, { minimumIntegerDigits: 2 })\r\n    const days = Math.floor(this.milliseconds / msecPerDay)\r\n    let remaining = this.milliseconds % msecPerDay\r\n    const hours = Math.floor(remaining / msecPerHour)\r\n    remaining = remaining % msecPerHour\r\n    const minutes = Math.floor(remaining / msecPerMinute)\r\n    remaining = remaining % msecPerMinute\r\n    const seconds = Math.floor(remaining / msecPerSecond)\r\n    remaining = remaining % msecPerSecond\r\n    const milliseconds = remaining\r\n    return `${days}.${formatter.format(hours)}:${formatter.format(minutes)}:${formatter.format(seconds)}.${milliseconds}`;\r\n}\r\n"],"names":["TimeSpan","constructor","milliseconds","_milliseconds","this","[object Object]","seconds","minutes","hours","days","add","timespan","subtract","duration","Math","abs","addMilliseconds","subtractMilliseconds","addSeconds","subtractSeconds","addMinutes","subtractMinutes","addHours","subtractHours","addDays","subtractDays","totalMilliseconds","floor","totalSeconds","totalMinutes","totalHours","totalDays","equals","compare","lesser","lesserEqual","greater","greaterEqual","prototype","toString","formatter","Intl","NumberFormat","undefined","minimumIntegerDigits","remaining","format"],"mappings":"MAMaA,EAGTC,YAAYC,QAFZC,cAAwB,EAGpBC,KAAKD,cAAgBD,EAGPG,mBAACC,GACf,WAAWN,EAdG,IAcMM,GAEND,mBAACE,GACf,WAAWP,EAhBG,IAgBMO,GAERF,iBAACG,GACb,WAAWR,EAlBC,KAkBQQ,GAETH,gBAACI,GACZ,WAAWT,EApBA,MAoBSS,GAGxBC,IAAIC,GACA,WAAWX,EAASI,KAAKF,aAAeS,EAAST,cAErDU,SAASD,GACL,WAAWX,EAASI,KAAKF,aAAeS,EAAST,cAErDW,WACI,WAAWb,EAASc,KAAKC,IAAIX,KAAKF,eAGtCc,gBAAgBd,GACZE,KAAKD,eAAiBD,EAE1Be,qBAAqBf,GACjBE,KAAKD,eAAiBD,EAG1BgB,WAAWZ,GACPF,KAAKD,eA5CS,IA4CSG,EAE3Ba,gBAAgBb,GACZF,KAAKD,eA/CS,IA+CSG,EAG3Bc,WAAWb,GACPH,KAAKD,eAlDS,IAkDSI,EAE3Bc,gBAAgBd,GACZH,KAAKD,eArDS,IAqDSI,EAG3Be,SAASd,GACLJ,KAAKD,eAxDO,KAwDWK,EAE3Be,cAAcf,GACVJ,KAAKD,eA3DO,KA2DWK,EAG3BgB,QAAQf,GACJL,KAAKD,eA9DM,MA8DYM,EAE3BgB,aAAahB,GACTL,KAAKD,eAjEM,MAiEYM,EAIXP,mBACZ,YAAYC,cAELG,cACP,YAAYH,cA5EE,IA8EPI,cACP,YAAYJ,cA9EE,IAgFTK,YACL,YAAYL,cAhFA,KAkFRM,WACJ,YAAYN,cAlFD,MAqFMuB,wBACjB,OAAOZ,KAAKa,MAAMvB,KAAKD,eAEXyB,mBACZ,OAAOd,KAAKa,MAAMvB,KAAKD,cA5FT,KA8FF0B,mBACZ,OAAOf,KAAKa,MAAMvB,KAAKD,cA9FT,KAgGJ2B,iBACV,OAAOhB,KAAKa,MAAMvB,KAAKD,cAhGX,MAkGH4B,gBACT,OAAOjB,KAAKa,MAAMvB,KAAKD,cAlGZ,OAqGf6B,OAAOC,GACH,OAAOA,EAAQ/B,eAAiBE,KAAKD,cAEzC+B,OAAOD,GACH,YAAY9B,cAAgB8B,EAAQ/B,aAExCiC,YAAYF,GACR,YAAY9B,eAAiB8B,EAAQ/B,aAEzCkC,QAAQH,GACJ,YAAY9B,cAAgB8B,EAAQ/B,aAExCmC,aAAaJ,GACT,YAAY9B,eAAiB8B,EAAQ/B,cAK7CF,EAASsC,UAAUC,SAAW,WAC1B,MAAMC,EAAY,IAAIC,KAAKC,kBAAaC,EAAW,CAAEC,qBAAsB,IACrEnC,EAAOK,KAAKa,MAAMvB,KAAKF,aAzHd,OA0Hf,IAAI2C,EAAYzC,KAAKF,aA1HN,MA2Hf,MAAMM,EAAQM,KAAKa,MAAMkB,EA5HT,MA6HhBA,GA7HgB,KA8HhB,MAAMtC,EAAUO,KAAKa,MAAMkB,EA/HT,KAgIlBA,GAhIkB,IAiIlB,MAAMvC,EAAUQ,KAAKa,MAAMkB,EAlIT,KAmIlBA,GAnIkB,IAoIlB,MAAM3C,EAAe2C,EACrB,SAAUpC,KAAQ+B,EAAUM,OAAOtC,MAAUgC,EAAUM,OAAOvC,MAAYiC,EAAUM,OAAOxC,MAAYJ"}